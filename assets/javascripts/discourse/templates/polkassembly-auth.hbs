<main class="centered">
		{{#if loading}}
			<div class="card login-card loader-container">
				<h3>Login with Polkassembly</h3>
				<hr>
				<div class="centered">
					<div class="loader"></div>
				</div>
			</div>
		{{/if}}

		<div class="{{if loading 'hidden'}} card login-card">
			<h3>Login with Polkassembly</h3>
			<hr>

		{{#if error}}
			<div class="error-container">
				<p>Error: {{error}}</p>
			</div>

			<div class="centered">
				<button class="btn btn-primary" type="button" {{action "resetState" on="click"}}>Go back</button>
			</div>
		{{else if tfa_token }}
			<h4>Two Factor Authentication</h4>
			<p>Please open the two-step verification app or extension and input the authentication code for your Polkassembly account.</p>

			<form {{action "submit2FAForm" on="submit"}}>
				<fieldset>
					<label>Authentication Code</label>
					<input type="text" id="auth_code_input" class="form-input" placeholder="# # # # # #" />
				</fieldset>

				<fieldset class="centered">
					<button class="btn btn-primary" type="submit">Login</button>
				</fieldset>
			</form>

		{{else if selectedWallet }}
			<h4 class="wallet-name">{{ selectedWallet }}</h4>

			<div class="custom-select">
				<select id="wallet_address_select">
					{{#each walletAddresses as |item|}}
						<option class="wallet-select-option" value={{ item.address }}>
							{{#if item.name }} {{ item.name }} - {{/if}} {{ item.address }}
						</option>
					{{/each}}
				</select>
			</div>

			<div class="wallet-actions">
				<button class="btn btn-text" type="button" {{action "resetState" on="click"}}>Go back</button>
				<button class="btn btn-primary" type="button" {{action "submitWeb3Form" on="click"}}>Login</button>
			</div>
		{{else}}
			<form {{action "submitWeb2Form" on="submit"}}>
				<fieldset>
					<label>Enter Username or Email</label>
					<input
						type="text"
						class="form-input"
						id="username_input"
						placeholder="email@example.com"
					/>
				</fieldset>
				
				<fieldset>
					<label>Password</label>
					<input
						type="password"
						class="form-input"
						id="password_input"
						placeholder="password"
					/>
				</fieldset>

				<fieldset class="centered">
					<button class="btn btn-primary" type="submit">Login</button>
				</fieldset>
			</form>

			<div class="hr-text"><span>or login with</span></div>

			<div class="wallet-button-group">
				<button class="wallet-button" {{action "fetchWalletAddresses" "polkadot-js" on="click"}}>
					{{!-- Polkadot JS --}}
					<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="zoom:1" viewBox="15 15 140 140" >
						<circle cx="85" cy="85" r="70" fill="#ff8c00"/>
						<path fill="#fff" d="M85 34.7c-20.8 0-37.8 16.9-37.8 37.8 0 4.2.7 8.3 2 12.3.9 2.7 3.9 4.2 6.7 3.3 2.7-.9 4.2-3.9 3.3-6.7-1.1-3.1-1.6-6.4-1.5-9.7.4-14.1 11.8-25.7 25.9-26.4 15.7-.8 28.7 11.7 28.7 27.2 0 14.5-11.4 26.4-25.7 27.2 0 0-5.3.3-7.9.7-1.3.2-2.3.4-3 .5-.3.1-.6-.2-.5-.5l.9-4.4L81 73.4c.6-2.8-1.2-5.6-4-6.2-2.8-.6-5.6 1.2-6.2 4 0 0-11.8 55-11.9 55.6-.6 2.8 1.2 5.6 4 6.2 2.8.6 5.6-1.2 6.2-4 .1-.6 1.7-7.9 1.7-7.9 1.2-5.6 5.8-9.7 11.2-10.4 1.2-.2 5.9-.5 5.9-.5 19.5-1.5 34.9-17.8 34.9-37.7 0-20.9-17-37.8-37.8-37.8zm2.7 87c-3.4-.7-6.8 1.4-7.5 4.9-.7 3.4 1.4 6.8 4.9 7.5 3.4.7 6.8-1.4 7.5-4.9.7-3.5-1.4-6.8-4.9-7.5z"/>
					</svg>
				</button>

				<button class="wallet-button" {{action "fetchWalletAddresses" "talisman" on="click"}}>
					{{!-- Talisman --}}
					<svg
						viewBox="0 0 24 24"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
							<rect y="-0.000366211" width="24" height="24" rx="4" fill="#D5FF5C" />
							<path
									fillRule="evenodd"
									clipRule="evenodd"
									d="M16.5349 12.9161C16.6871 13.2475 17.135 13.3645 17.3929 13.1068L17.8651 12.6348C18.3535 12.1466 19.1453 12.1466 19.6337 12.6348C20.1221 13.1229 20.1221 13.9144 19.6337 14.4025L15.8097 18.2248C14.8921 19.3107 13.5198 20.0002 11.9865 20.0002C10.3851 20.0002 8.95942 19.2481 8.04384 18.0779L4.36629 14.402C3.87791 13.9139 3.87791 13.1224 4.36629 12.6343C4.85467 12.1461 5.64649 12.1461 6.13487 12.6343L6.60044 13.0996C6.85253 13.3516 7.29002 13.2382 7.43894 12.9144C7.46838 12.8504 7.48439 12.7817 7.48439 12.7112L7.48438 7.00083C7.48438 6.31016 8.04428 5.75026 8.73496 5.75026C9.42563 5.75026 9.98553 6.31016 9.98553 7.00083L9.98553 9.88917C9.98553 10.1379 10.2403 10.3067 10.4774 10.2318C10.6276 10.1844 10.736 10.0477 10.736 9.89025L10.736 5.25066C10.736 4.55999 11.2959 4.00009 11.9866 4.00009C12.6773 4.00009 13.2372 4.55999 13.2372 5.25066L13.2372 9.89042C13.2372 10.0478 13.3456 10.1844 13.4957 10.2318C13.7327 10.3067 13.9874 10.1379 13.9874 9.88933L13.9874 7.00083C13.9874 6.31016 14.5473 5.75026 15.2379 5.75026C15.9286 5.75026 16.4885 6.31016 16.4885 7.00083L16.4885 12.7088C16.4885 12.7807 16.5049 12.8508 16.5349 12.9161Z"
									fill="#FD4848"
							/>
							<path
									d="M15.9885 15.5004C15.9885 15.5004 14.1969 18.0004 11.9867 18.0004C9.77655 18.0004 7.98486 15.5004 7.98486 15.5004C7.98486 15.5004 9.77655 13.0004 11.9867 13.0004C14.1969 13.0004 15.9885 15.5004 15.9885 15.5004Z"
									fill="#D5FF5C"
							/>
							<path
									d="M13.8548 15.5004C13.8548 16.5315 13.0185 17.3674 11.9868 17.3674C10.955 17.3674 10.1188 16.5315 10.1188 15.5004C10.1188 14.4693 10.955 13.6333 11.9868 13.6333C13.0185 13.6333 13.8548 14.4693 13.8548 15.5004Z"
									stroke="#FD4848"
									strokeWidth="0.265831"
							/>
							<path
									d="M13.1043 15.5C13.1043 16.1169 12.604 16.6171 11.9867 16.6171C11.3693 16.6171 10.869 16.1169 10.869 15.5C10.869 14.8831 11.3693 14.3829 11.9867 14.3829C12.604 14.3829 13.1043 14.8831 13.1043 15.5Z"
									stroke="#FD4848"
									strokeWidth="0.265831"
							/>
							<path
									d="M14.6052 15.4997C14.6052 16.945 13.433 18.1168 11.9869 18.1168C10.5407 18.1168 9.36851 16.945 9.36851 15.4997C9.36851 14.0544 10.5407 12.8826 11.9869 12.8826C13.433 12.8826 14.6052 14.0544 14.6052 15.4997Z"
									stroke="#FD4848"
									strokeWidth="0.265831"
							/>
							<path
									d="M15.3554 15.5001C15.3554 17.3596 13.8473 18.8671 11.9867 18.8671C10.1262 18.8671 8.61802 17.3596 8.61802 15.5001C8.61802 13.6405 10.1262 12.133 11.9867 12.133C13.8473 12.133 15.3554 13.6405 15.3554 15.5001Z"
									stroke="#FD4848"
									strokeWidth="0.265831"
							/>
							<path
									d="M12.3537 15.4996C12.3537 15.7024 12.1893 15.8667 11.9866 15.8667C11.7838 15.8667 11.6195 15.7024 11.6195 15.4996C11.6195 15.2969 11.7838 15.1325 11.9866 15.1325C12.1893 15.1325 12.3537 15.2969 12.3537 15.4996Z"
									fill="#162BEB"
									stroke="#FD4848"
									strokeWidth="0.265831"
							/>
							<ellipse cx="11.9866" cy="15.4996" rx="0.5" ry="0.5" fill="#FD4848" />
							<path
									d="M8.17098 15.5261C8.16387 15.5169 8.15724 15.5084 8.15107 15.5004C8.15724 15.4924 8.16387 15.4838 8.17098 15.4747C8.22308 15.4079 8.30029 15.312 8.39992 15.1966C8.59935 14.9658 8.88781 14.6582 9.24382 14.351C9.95994 13.7329 10.9297 13.1333 11.9867 13.1333C13.0437 13.1333 14.0135 13.7329 14.7296 14.351C15.0856 14.6582 15.3741 14.9658 15.5735 15.1966C15.6731 15.312 15.7503 15.4079 15.8024 15.4747C15.8095 15.4838 15.8162 15.4924 15.8223 15.5004C15.8162 15.5084 15.8095 15.5169 15.8024 15.526C15.7503 15.5929 15.6731 15.6888 15.5735 15.8041C15.3741 16.0349 15.0856 16.3425 14.7296 16.6497C14.0135 17.2678 13.0437 17.8674 11.9867 17.8674C10.9297 17.8674 9.95995 17.2678 9.24382 16.6497C8.88781 16.3425 8.59935 16.0349 8.39992 15.8041C8.30029 15.6888 8.22308 15.5929 8.17098 15.5261Z"
									stroke="#D5FF5C"
									strokeWidth="0.265831"
							/>
					</svg>
				</button>

				<button class="wallet-button" {{action "fetchWalletAddresses" "subwallet-js" on="click"}}>
					{{!-- Subwallet --}}
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 250 250" >
						<path fill="#000" d="M0 0h250v250H0z"/>
						<path fill="url(#a)" d="m85.476 137.062 17.283 9.336-19.244 8.463L66 145.749l19.476-8.687Z"/>
						<path fill="url(#b)" d="m103.315 90.4013-.015 8.193-19.8161 8.8557-.023-27.3797 19.8541 10.331Z"/>
						<path fill="url(#c)" d="m101.315 159.579 44.062-19.42-61.8926-32.7 19.8146-8.8574 80.173 42.2294-81.979 35.943-.178-17.195Z"/>
						<path fill="url(#d)" d="M183.471 140.828v26.67l-99.9183 43.596-.039-56.228 19.2443-8.463-.039 12.563-.046 17.296 80.798-35.434Z"/>
						<path fill="url(#e)" d="m66 145.75 17.515 9.112.031 56.228L66 202.334V145.75Z"/>
						<path fill="url(#f)" d="m183.448 112.451.031-24.6619-20.51 8.949-.008 24.7779 20.487-9.065Z"/>
						<path fill="url(#g)" d="M66 47.227 86.58 38l96.9 49.788-20.533 8.95L66 47.228v-.001Z"/>
						<path fill="url(#h)" d="M162.97 121.515V96.7366L66 47.2266v71.1774l58.196 31.11 21.259-9.382-61.947-32.677-.047-27.4504 79.509 41.5104Z"/>
						<defs>
							<linearGradient id="a" x1="62.042" x2="137.056" y1="145.961" y2="145.961" gradientUnits="userSpaceOnUse">
								<stop stop-color="#00FECF"/>
								<stop offset=".08" stop-color="#00E5D0"/>
								<stop offset=".25" stop-color="#00A5D1"/>
								<stop offset=".494" stop-color="#0040D4"/>
								<stop offset=".557" stop-color="#0025D5"/>
							</linearGradient>
							<linearGradient id="b" x1="93.3879" x2="93.3879" y1="117.21" y2="55.8283" gradientUnits="userSpaceOnUse">
								<stop stop-color="#00FECF"/>
								<stop offset=".078" stop-color="#00E5D0"/>
								<stop offset=".244" stop-color="#00A5D1"/>
								<stop offset=".482" stop-color="#0040D4"/>
								<stop offset=".544" stop-color="#0025D5"/>
								<stop offset="1"/>
							</linearGradient>
							<linearGradient id="c" x1="83.4804" x2="243.678" y1="137.69" y2="137.69" gradientUnits="userSpaceOnUse">
								<stop stop-color="#FDEC9F"/>
								<stop offset=".076" stop-color="#E4D8A4"/>
								<stop offset=".238" stop-color="#A4A6B2"/>
								<stop offset=".47" stop-color="#3F57C7"/>
								<stop offset=".608" stop-color="#0025D5"/>
								<stop offset="1"/>
							</linearGradient>
							<linearGradient id="d" x1="50.8917" x2="255.464" y1="175.96" y2="175.96" gradientUnits="userSpaceOnUse">
								<stop offset=".054" stop-color="#62A5FF"/>
								<stop offset=".449" stop-color="#1032D1"/>
								<stop offset="1"/>
							</linearGradient>
							<linearGradient id="e" x1="59.634" x2="102.979" y1="177.57" y2="179.994" gradientUnits="userSpaceOnUse">
								<stop stop-color="#FFD4B2"/>
								<stop offset=".356" stop-color="#9ACEB7"/>
								<stop offset=".671" stop-color="#47C8BB"/>
								<stop offset=".892" stop-color="#14C5BE"/>
								<stop offset="1" stop-color="#00C4BF"/>
							</linearGradient>
							<linearGradient id="f" x1="143.134" x2="280.433" y1="105.198" y2="102.719" gradientUnits="userSpaceOnUse">
								<stop stop-color="#00FECF"/>
								<stop offset=".047" stop-color="#00E5D0"/>
								<stop offset=".147" stop-color="#00A5D1"/>
								<stop offset=".291" stop-color="#0040D4"/>
								<stop offset=".328" stop-color="#0025D5"/>
							</linearGradient>
							<linearGradient id="g" x1="66" x2="284.982" y1="67.368" y2="67.368" gradientUnits="userSpaceOnUse">
								<stop stop-color="#FFD4AF"/>
								<stop offset=".1" stop-color="#E6D5BA"/>
								<stop offset=".312" stop-color="#A7D6D5"/>
								<stop offset=".612" stop-color="#43D9FF"/>
								<stop offset=".63" stop-color="#37B1D0"/>
								<stop offset=".65" stop-color="#2B8CA5"/>
								<stop offset=".672" stop-color="#216B7D"/>
								<stop offset=".696" stop-color="#184E5B"/>
								<stop offset=".722" stop-color="#10353F"/>
								<stop offset=".751" stop-color="#0A2228"/>
								<stop offset=".784" stop-color="#061316"/>
								<stop offset=".823" stop-color="#020809"/>
								<stop offset=".876" stop-color="#010202"/>
								<stop offset="1"/>
							</linearGradient>
							<linearGradient id="h" x1="41.744" x2="213.009" y1="98.3706" y2="98.3706" gradientUnits="userSpaceOnUse">
								<stop stop-color="#FFD4B2"/>
								<stop offset=".356" stop-color="#9ACEB7"/>
								<stop offset=".671" stop-color="#47C8BB"/>
								<stop offset=".892" stop-color="#14C5BE"/>
								<stop offset="1" stop-color="#00C4BF"/>
							</linearGradient>
						</defs>
					</svg>
				</button>

				<button class="wallet-button" {{action "fetchWalletAddresses" "metamask" on="click"}}>
					{{!-- Metamask --}}
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 507.83 470.86"><defs><style>.a{fill:#e2761b;stroke:#e2761b;}.a,.b,.c,.d,.e,.f,.g,.h,.i,.j{stroke-linecap:round;stroke-linejoin:round;}.b{fill:#e4761b;stroke:#e4761b;}.c{fill:#d7c1b3;stroke:#d7c1b3;}.d{fill:#233447;stroke:#233447;}.e{fill:#cd6116;stroke:#cd6116;}.f{fill:#e4751f;stroke:#e4751f;}.g{fill:#f6851b;stroke:#f6851b;}.h{fill:#c0ad9e;stroke:#c0ad9e;}.i{fill:#161616;stroke:#161616;}.j{fill:#763d16;stroke:#763d16;}</style></defs><title>metamask</title><polygon class="a" points="482.09 0.5 284.32 147.38 320.9 60.72 482.09 0.5"/><polygon class="b" points="25.54 0.5 221.72 148.77 186.93 60.72 25.54 0.5"/><polygon class="b" points="410.93 340.97 358.26 421.67 470.96 452.67 503.36 342.76 410.93 340.97"/><polygon class="b" points="4.67 342.76 36.87 452.67 149.57 421.67 96.9 340.97 4.67 342.76"/><polygon class="b" points="143.21 204.62 111.8 252.13 223.7 257.1 219.73 136.85 143.21 204.62"/><polygon class="b" points="364.42 204.62 286.91 135.46 284.32 257.1 396.03 252.13 364.42 204.62"/><polygon class="b" points="149.57 421.67 216.75 388.87 158.71 343.55 149.57 421.67"/><polygon class="b" points="290.88 388.87 358.26 421.67 348.92 343.55 290.88 388.87"/><polygon class="c" points="358.26 421.67 290.88 388.87 296.25 432.8 295.65 451.28 358.26 421.67"/><polygon class="c" points="149.57 421.67 212.18 451.28 211.78 432.8 216.75 388.87 149.57 421.67"/><polygon class="d" points="213.17 314.54 157.12 298.04 196.67 279.95 213.17 314.54"/><polygon class="d" points="294.46 314.54 310.96 279.95 350.71 298.04 294.46 314.54"/><polygon class="e" points="149.57 421.67 159.11 340.97 96.9 342.76 149.57 421.67"/><polygon class="e" points="348.72 340.97 358.26 421.67 410.93 342.76 348.72 340.97"/><polygon class="e" points="396.03 252.13 284.32 257.1 294.66 314.54 311.16 279.95 350.91 298.04 396.03 252.13"/><polygon class="e" points="157.12 298.04 196.87 279.95 213.17 314.54 223.7 257.1 111.8 252.13 157.12 298.04"/><polygon class="f" points="111.8 252.13 158.71 343.55 157.12 298.04 111.8 252.13"/><polygon class="f" points="350.91 298.04 348.92 343.55 396.03 252.13 350.91 298.04"/><polygon class="f" points="223.7 257.1 213.17 314.54 226.29 382.31 229.27 293.07 223.7 257.1"/><polygon class="f" points="284.32 257.1 278.96 292.87 281.34 382.31 294.66 314.54 284.32 257.1"/><polygon class="g" points="294.66 314.54 281.34 382.31 290.88 388.87 348.92 343.55 350.91 298.04 294.66 314.54"/><polygon class="g" points="157.12 298.04 158.71 343.55 216.75 388.87 226.29 382.31 213.17 314.54 157.12 298.04"/><polygon class="h" points="295.65 451.28 296.25 432.8 291.28 428.42 216.35 428.42 211.78 432.8 212.18 451.28 149.57 421.67 171.43 439.55 215.75 470.36 291.88 470.36 336.4 439.55 358.26 421.67 295.65 451.28"/><polygon class="i" points="290.88 388.87 281.34 382.31 226.29 382.31 216.75 388.87 211.78 432.8 216.35 428.42 291.28 428.42 296.25 432.8 290.88 388.87"/><polygon class="j" points="490.44 156.92 507.33 75.83 482.09 0.5 290.88 142.41 364.42 204.62 468.37 235.03 491.43 208.2 481.49 201.05 497.39 186.54 485.07 177 500.97 164.87 490.44 156.92"/><polygon class="j" points="0.5 75.83 17.39 156.92 6.66 164.87 22.56 177 10.44 186.54 26.34 201.05 16.4 208.2 39.26 235.03 143.21 204.62 216.75 142.41 25.54 0.5 0.5 75.83"/><polygon class="g" points="468.37 235.03 364.42 204.62 396.03 252.13 348.92 343.55 410.93 342.76 503.36 342.76 468.37 235.03"/><polygon class="g" points="143.21 204.62 39.26 235.03 4.67 342.76 96.9 342.76 158.71 343.55 111.8 252.13 143.21 204.62"/><polygon class="g" points="284.32 257.1 290.88 142.41 321.1 60.72 186.93 60.72 216.75 142.41 223.7 257.1 226.09 293.27 226.29 382.31 281.34 382.31 281.74 293.27 284.32 257.1"/></svg>
				</button>

				<button class="wallet-button mobile-only" {{action "fetchWalletAddresses" "polkadot-js" on="click"}}>
					{{!-- Nova Wallet --}}
					<svg viewBox="0 0 145 145" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M0 40C0 17.9086 17.9086 0 40 0H105C127.091 0 145 17.9086 145 40V105C145 127.091 127.091 145 105 145H40C17.9086 145 0 127.091 0 105V40Z" fill="url(#paint0_linear_1014_14373)"/>
						<path d="M71.515 24.6219C71.7083 23.5186 73.2917 23.5186 73.485 24.6219L79.265 57.6109C79.9918 61.7596 83.2404 65.0082 87.3891 65.7351L120.378 71.515C121.481 71.7083 121.481 73.2917 120.378 73.485L87.3891 79.265C83.2404 79.9918 79.9918 83.2404 79.265 87.3891L73.485 120.378C73.2917 121.481 71.7083 121.481 71.515 120.378L65.7351 87.3891C65.0082 83.2404 61.7596 79.9918 57.6109 79.265L24.6219 73.485C23.5186 73.2917 23.5186 71.7083 24.6219 71.515L57.6109 65.7351C61.7596 65.0082 65.0082 61.7596 65.7351 57.6109L71.515 24.6219Z" fill="white"/>
						<defs>
						<linearGradient id="paint0_linear_1014_14373" x1="138.302" y1="-63.9403" x2="-1.11118e-05" y2="205.228" gradientUnits="userSpaceOnUse">
						<stop offset="0.205836"/>
						<stop offset="0.369792" stop-color="#541E7E"/>
						<stop offset="0.47142" stop-color="#3F51D1"/>
						<stop offset="0.609119" stop-color="#73AFE3"/>
						<stop offset="0.801091" stop-color="#90D7FF"/>
						</linearGradient>
						</defs>
					</svg>
				</button>
			</div>
		{{/if}}

	</div>
</main>